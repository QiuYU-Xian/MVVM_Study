<Page x:Class="MyWpfMvvmApp.Features.Settings.Views.SettingsPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:MyWpfMvvmApp.Features.Settings.Views"
      mc:Ignorable="d" 
      d:DesignHeight="450" d:DesignWidth="800"
      Title="SettingsPage">

    <Grid Margin="20">
        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <!-- 標題 -->
                <TextBlock Text="應用程式設定" 
                           FontSize="24" FontWeight="Bold" 
                           Margin="0,0,0,30"/>

                <!-- 基本設定區塊 -->
                <GroupBox Header="基本設定" Margin="0,0,0,20">
                    <StackPanel Margin="15">
                        <!-- 應用程式名稱 -->
                        <Grid Margin="0,0,0,15">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="應用程式名稱:" Grid.Column="0" 
                                       VerticalAlignment="Center"/>
                            <TextBox Grid.Column="1" 
                                     Text="{Binding AppName, UpdateSourceTrigger=PropertyChanged}"/>
                        </Grid>

                        <!-- 版本資訊 -->
                        <Grid Margin="0,0,0,15">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="版本:" Grid.Column="0" 
                                       VerticalAlignment="Center"/>
                            <TextBlock Grid.Column="1" 
                                       Text="{Binding Version}"
                                       VerticalAlignment="Center"
                                       Foreground="Gray"/>
                        </Grid>

                        <!-- 語言設定 -->
                        <Grid Margin="0,0,0,15">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="語言:" Grid.Column="0" 
                                       VerticalAlignment="Center"/>
                            <ComboBox Grid.Column="1" 
                                      SelectedItem="{Binding SelectedLanguage}"
                                      ItemsSource="{Binding Languages}"
                                      Width="200" HorizontalAlignment="Left"/>
                        </Grid>
                    </StackPanel>
                </GroupBox>

                <!-- 外觀設定區塊 -->
                <GroupBox Header="外觀設定" Margin="0,0,0,20">
                    <StackPanel Margin="15">
                        <!-- 主題設定 -->
                        <Grid Margin="0,0,0,15">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="主題:" Grid.Column="0" 
                                       VerticalAlignment="Center"/>
                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                <RadioButton Content="淺色" 
                                             IsChecked="{Binding IsLightTheme}"
                                             Margin="0,0,20,0"/>
                                <RadioButton Content="深色" 
                                             IsChecked="{Binding IsDarkTheme}"/>
                            </StackPanel>
                        </Grid>

                        <!-- 字體大小 -->
                        <Grid Margin="0,0,0,15">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="字體大小:" Grid.Column="0" 
                                       VerticalAlignment="Center"/>
                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                <Slider Value="{Binding FontSize}" 
                                        Minimum="10" Maximum="20" 
                                        Width="200" 
                                        TickFrequency="2" 
                                        IsSnapToTickEnabled="True"/>
                                <TextBlock Text="{Binding FontSize}" 
                                           Margin="10,0,0,0" 
                                           VerticalAlignment="Center"/>
                            </StackPanel>
                        </Grid>

                        <!-- 啟用動畫 -->
                        <Grid Margin="0,0,0,15">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="啟用動畫:" Grid.Column="0" 
                                       VerticalAlignment="Center"/>
                            <ToggleButton Grid.Column="1" 
                                          IsChecked="{Binding EnableAnimations}"
                                          HorizontalAlignment="Left"/>
                        </Grid>
                    </StackPanel>
                </GroupBox>

                <!-- 資料設定區塊 -->
                <GroupBox Header="資料設定" Margin="0,0,0,20">
                    <StackPanel Margin="15">
                        <!-- 自動儲存 -->
                        <Grid Margin="0,0,0,15">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="自動儲存:" Grid.Column="0" 
                                       VerticalAlignment="Center"/>
                            <ToggleButton Grid.Column="1" 
                                          IsChecked="{Binding AutoSave}"
                                          
                                          HorizontalAlignment="Left"/>
                        </Grid>

                        <!-- 儲存間隔 -->
                        <Grid Margin="0,0,0,15">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="儲存間隔:" Grid.Column="0" 
                                       VerticalAlignment="Center"/>
                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                <ComboBox SelectedItem="{Binding SaveInterval}"
                                          ItemsSource="{Binding SaveIntervals}"
                                          Width="150"/>
                                <TextBlock Text="分鐘" Margin="10,0,0,0" 
                                           VerticalAlignment="Center"/>
                            </StackPanel>
                        </Grid>

                        <!-- 資料路徑 -->
                        <Grid Margin="0,0,0,15">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="資料路徑:" Grid.Column="0" 
                                       VerticalAlignment="Center"/>
                            <TextBox Grid.Column="1" 
                                     Text="{Binding DataPath, UpdateSourceTrigger=PropertyChanged}"
                                     IsReadOnly="True"
                                     Margin="0,0,10,0"/>
                            <Button Grid.Column="2" Content="瀏覽..."
                                    Command="{Binding BrowseDataPathCommand}"/>
                        </Grid>
                    </StackPanel>
                </GroupBox>

                <!-- 測試資料區塊 -->
                <GroupBox Header="測試資料" Margin="0,0,0,20">
                    <StackPanel Margin="15">
                        <Grid Margin="0,0,0,15">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="測試訊息:" Grid.Column="0" 
                                       VerticalAlignment="Center"/>
                            <TextBox Grid.Column="1" 
                                     Text="{Binding TestMessage, UpdateSourceTrigger=PropertyChanged}"/>
                        </Grid>

                        <TextBlock Text="{Binding TestMessage}" 
                                   FontSize="{Binding FontSize}"
                                   Foreground="Blue" 
                                   Margin="0,10,0,0"/>
                    </StackPanel>
                </GroupBox>

                <!-- 操作按鈕 -->
                <StackPanel Orientation="Horizontal" 
                            HorizontalAlignment="Right" 
                            Margin="0,20,0,0">
                    <Button Content="重設預設值" 
                            Command="{Binding ResetDefaultsCommand}"
                            
                            Margin="0,0,10,0"/>
                    <Button Content="儲存設定" 
                            Command="{Binding SaveSettingsCommand}"
                            />
                </StackPanel>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Page>
